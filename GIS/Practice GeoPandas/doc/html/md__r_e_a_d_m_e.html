<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GIS Engineer Coding Challenge: GIS Engineer Coding Challenge</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GIS Engineer Coding Challenge
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">GIS Engineer Coding Challenge </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md1"></a>
Author</h1>
<p>Falk Meyer <a href="#" onclick="location.href='mai'+'lto:'+'fme'+'ye'+'r.m'+'s@'+'gma'+'il'+'.co'+'m'; return false;">fmeye<span style="display: none;">.nosp@m.</span>r.ms<span style="display: none;">.nosp@m.</span>@gmai<span style="display: none;">.nosp@m.</span>l.co<span style="display: none;">.nosp@m.</span>m</a>, 2021/03/21</p>
<h1><a class="anchor" id="autotoc_md2"></a>
Solution description</h1>
<h2><a class="anchor" id="autotoc_md3"></a>
Abstract</h2>
<p>The given python script provides a solution approach to the stated problem of determining all positively affected buildings from a highway tunnel construction in the city of Rotterdam (NL). Therefore, it reads the road vector shape file, the tunnel shape file and a shape file of possibly affected buildings obtained via OpenStreetMap (see <a href="#sources">Sources</a>) and uses the python package GeoPandas (see <a href="#requirements">Requirements</a>) for spatial operations on the given datasets.</p>
<h2><a class="anchor" id="autotoc_md4"></a>
Sources</h2>
<p><a class="anchor" id="sources"></a></p><ul>
<li>Road vector shape file provided by task author</li>
<li>Tunnel shape file provided by task author</li>
<li>Partial buildings shape file of Rotterdam (NL) obtained via <a href="https://extract.bbbike.org/">https://extract.bbbike.org/</a></li>
</ul>
<h2><a class="anchor" id="autotoc_md5"></a>
Results</h2>
<p>Results of the script can be found under the <em>target</em> folder:</p><ul>
<li><b>AnalysisReport.pdf</b>: The result report in pdf format</li>
<li><b>affectedBuildings</b>: The shape file of the positively affected buildings</li>
</ul>
<h2><a class="anchor" id="autotoc_md6"></a>
Assumptions</h2>
<p>The following technical assumptions were made:</p><ul>
<li>The sound radius of a street is 350 meters as stated in the task description</li>
<li>The tunnel behaves like a solid 'sound wall', i.e. the sound of the street does not propagate further than the tunnel entrance.</li>
<li>A building is considered positively affected, if its shape intersects with the sound buffer of a street. There are no thresholds for the size of the intersected geometrical area.</li>
</ul>
<h1><a class="anchor" id="autotoc_md7"></a>
Technical description</h1>
<h2><a class="anchor" id="autotoc_md8"></a>
Requirements</h2>
<p><a class="anchor" id="requirements"></a> The following technical requirements are to be met for successfull execution of the script:</p><ul>
<li>Python 3 (tested with Python 3.7.10)</li>
<li>Python packages<ul>
<li><a href="https://geopandas.org/">Geopandas</a> 0.9.0, for installation with conda use: <code>conda install --channel conda-forge geopandas</code></li>
<li>Geopandas dependencies (included when installing Geopandas): pandas, fiona, shapely, pyproj, rtree</li>
<li>Matplotlib</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md9"></a>
Execution</h2>
<h3><a class="anchor" id="autotoc_md10"></a>
Input</h3>
<p>The necessary files should be placed in the <em>data</em> folder of the project. </p>
<h3><a class="anchor" id="autotoc_md11"></a>
Output</h3>
<p>The output files are placed in the <em>target</em> folder. </p>
<h3><a class="anchor" id="autotoc_md12"></a>
Configuration</h3>
<p>The configuration can be adjusted in the <em><a class="el" href="main_8py.html">main.py</a></em> file lines 16-21: </p><div class="fragment"><div class="line">dataFolder = &#39;./data&#39;</div>
<div class="line">buildingsPath = os.path.join(dataFolder,&#39;buildings&#39;)</div>
<div class="line">buildingsIdField = &#39;osm_id&#39;</div>
<div class="line">tunnelPath = os.path.join(dataFolder,&#39;tunnel&#39;)</div>
<div class="line">highwayPath = os.path.join(dataFolder,&#39;highway&#39;)</div>
<div class="line">projCrs = 32632</div>
</div><!-- fragment --><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Name   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">dataFolder   </td><td class="markdownTableBodyNone">The folder of input files    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">buildingsPath   </td><td class="markdownTableBodyNone">The path to the buildings shape file    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">buildingsIdField   </td><td class="markdownTableBodyNone">The unique ID field in the buildings shape file    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">tunnelPath   </td><td class="markdownTableBodyNone">The path to the tunnel shape file    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">highwayPath   </td><td class="markdownTableBodyNone">The path to the road vector shape file    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">projCrs   </td><td class="markdownTableBodyNone">The epsg code of the projected coordinate system used for computations   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md13"></a>
Script</h3>
<p>Run the script by the following command line execution: </p><div class="fragment"><div class="line">python main.py</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md14"></a>
Logging</h3>
<p>All logged statements are written on the command line.</p>
<h2><a class="anchor" id="autotoc_md15"></a>
Tests</h2>
<p>All unit tests can be executed via the following command: </p><div class="fragment"><div class="line">python -m unittest discover</div>
</div><!-- fragment --><p> A single unit test class can be executed as follows: </p><div class="fragment"><div class="line">python -m unittest test_analysisUtils.test_AnalysisPlotter</div>
<div class="line">python -m unittest test_analysisUtils.test_SpatialAnalysisCase</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md16"></a>
Project Structure</h1>
<p>The following folder structure is in place: </p><div class="fragment"><div class="line">project</div>
<div class="line">│   README.md: The project Documentation</div>
<div class="line">│   main.py: The main script</div>
<div class="line">│</div>
<div class="line">└───analysisUtils: The package providing the analysis logic and plotting classes</div>
<div class="line">│   │   AnalysisCase.py: The base class for all analysis cases</div>
<div class="line">│   │   AnalysisPlotter.py: The class for plotting analysis results in a pdf</div>
<div class="line">│   │   SpatialAnalysisCase.py: The class for a spatial analysis case as needed in the given task</div>
<div class="line">│   </div>
<div class="line">└───data: The input folder</div>
<div class="line">    │   buildings: shape file</div>
<div class="line">    │   highway: shape file</div>
<div class="line">    │   tunnel: shape file</div>
<div class="line">│   </div>
<div class="line">└───target: The output folder</div>
<div class="line">    │   AnalysisReport: pdf file</div>
<div class="line">    │   affectedBuildings: shape file</div>
<div class="line">│   </div>
<div class="line">└───test_analysisUtils: The unit test package for the analysisUtils package</div>
<div class="line">    │   test_AnalysisPlotter: unit test class for AnalysisPlotter class</div>
<div class="line">    │   test_SpatialAnalysisCase: unit test class for SpatialAnalysisCase class</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
