(function(e){function t(t){for(var i,r,s=t[0],l=t[1],c=t[2],d=0,v=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&v.push(o[r][0]),o[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);u&&u(t);while(v.length)v.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],i=!0,s=1;s<n.length;s++){var l=n[s];0!==o[l]&&(i=!1)}i&&(a.splice(t--,1),e=r(r.s=n[0]))}return e}var i={},o={app:0},a=[];function r(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var i=n("8a23"),o=n.n(i);o.a},"0c57":function(e,t,n){"use strict";var i=n("b016"),o=n.n(i);o.a},"30cd":function(e,t,n){"use strict";var i=n("4e23"),o=n.n(i);o.a},"4e23":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("div",{attrs:{id:"app","data-app":""}},[n("v-card",{staticClass:"mx-auto",attrs:{tile:""}},[n("v-toolbar",{attrs:{dark:""}},[n("v-toolbar-title",[e._v("Administer employee reviews")]),n("v-spacer"),n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("v-btn",e._g({attrs:{icon:""},on:{click:function(t){e.openAddEmployeeDialog=!0}}},i),[n("v-icon",[e._v("mdi-plus")])],1)]}}])},[n("span",[e._v("Add employee")])])],1),n("v-list",e._l(e.employees,(function(t){return n("v-list-group",{key:t.name,attrs:{color:"primary"},scopedSlots:e._u([{key:"activator",fn:function(){return[n("employee-item",{attrs:{item:t},on:{remove:e.removeEmployee,addReview:e.addReview,inviteReview:e.inviteReview}})]},proxy:!0}],null,!0)},e._l(t.reviews,(function(i){return n("v-list-item",{key:i.title,staticClass:"review-v-list-item"},[n("v-list-item-content",[n("review-item",{attrs:{item:i,employeeName:t.name},on:{updateReview:e.updateReview}})],1)],1)})),1)})),1)],1),n("add-employee-dialog",{on:{addEmployee:e.addEmployee},model:{value:e.openAddEmployeeDialog,callback:function(t){e.openAddEmployeeDialog=t},expression:"openAddEmployeeDialog"}}),n("add-review-dialog",{ref:"createReviewDialog",on:{addEmployee:e.addEmployee}}),n("invite-review-dialog",{ref:"inviteReviewDialog",attrs:{employees:e.employees}})],1)])},a=[],r=(n("7db0"),n("4160"),n("b0c0"),n("159b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{width:"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-form",{ref:"form",staticClass:"add-employee-dialog",attrs:{onSubmit:"return false;"}},[n("v-card",[n("v-card-title",{staticClass:"headline dark lighten-2",attrs:{"primary-title":""}},[e._v(" Add employee ")]),n("v-divider"),n("v-text-field",{attrs:{label:"Name"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.add()}},model:{value:e.inputName,callback:function(t){e.inputName=t},expression:"inputName"}}),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary",text:"",disabled:""===e.inputName},on:{click:e.add}},[e._v(" Add ")]),n("v-btn",{attrs:{color:"secondary",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" Cancel ")])],1)],1)],1)],1)}),s=[],l=n("d4ec"),c=function e(t){Object(l["a"])(this,e),this.name=t||"Unset",this.reviews=[]},u=c,d={name:"AddEmployeeDialog",props:{value:Boolean},data:function(){return{inputName:""}},methods:{add:function(){this.$emit("addEmployee",new u(this.inputName)),this.dialog=!1}},computed:{dialog:{get:function(){return this.value},set:function(e){this.$emit("input",e),this.$refs.form.reset()}}}},v=d,m=(n("0c57"),n("2877")),p=n("6544"),f=n.n(p),h=n("8336"),y=n("b0af"),w=n("99d9"),b=n("169a"),g=n("ce7e"),_=n("4bd4"),k=n("2fa4"),R=n("8654"),V=Object(m["a"])(v,r,s,!1,null,null,null),x=V.exports;f()(V,{VBtn:h["a"],VCard:y["a"],VCardActions:w["a"],VCardTitle:w["b"],VDialog:b["a"],VDivider:g["a"],VForm:_["a"],VSpacer:k["a"],VTextField:R["a"]});var E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{width:"500"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[n("v-form",{ref:"form",staticClass:"add-review-dialog",attrs:{onSubmit:"return false;"}},[n("v-card",[n("v-card-title",{staticClass:"headline dark lighten-2",attrs:{"primary-title":""}},[e._v(" Add performance review ")]),n("v-divider"),n("v-textarea",{attrs:{label:"Review"},model:{value:e.reviewText,callback:function(t){e.reviewText=t},expression:"reviewText"}}),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary",text:"",disabled:""===e.reviewText},on:{click:function(t){return e.$emit("add")}}},[e._v(" Add ")]),n("v-btn",{attrs:{color:"secondary",text:""},on:{click:function(t){return e.$emit("abort")}}},[e._v(" Cancel ")])],1)],1)],1)],1)},C=[],$=(n("d3b7"),function e(t,n){Object(l["a"])(this,e),this.author=t||"Unknown",this.contents=n||"Pending",this.pending=void 0===n}),I=$,A={name:"AddReviewDialog",data:function(){return{reviewText:"",show:!1}},methods:{ask:function(){var e=this;return this.show=!0,new Promise((function(t){e.$on("add",(function(){e.show=!1;var n=new I("admin",e.reviewText);t(n),e.$refs.form.reset()})),e.$on("abort",(function(){e.show=!1}))}))}}},T=A,O=(n("ff4d"),n("a844")),j=Object(m["a"])(T,E,C,!1,null,null,null),S=j.exports;f()(j,{VBtn:h["a"],VCard:y["a"],VCardActions:w["a"],VCardTitle:w["b"],VDialog:b["a"],VDivider:g["a"],VForm:_["a"],VSpacer:k["a"],VTextarea:O["a"]});var D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{width:"500"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[n("v-form",{staticClass:"invite-review-dialog",attrs:{onSubmit:"return false;"}},[n("v-card",[n("v-card-title",{staticClass:"headline dark lighten-2",attrs:{"primary-title":""}},[e._v(" Invite employee to a performance review ")]),n("v-divider"),n("v-select",{attrs:{items:e.employees.filter((function(t){return t!==e.selectedEmployee})).map((function(e){return e.name})),chips:"",multiple:"",label:"Select employee"},model:{value:e.selectedItems,callback:function(t){e.selectedItems=t},expression:"selectedItems"}}),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary",text:"",disabled:0===e.selectedItems.length},on:{click:function(t){return e.$emit("invite")}}},[e._v(" Invite ")]),n("v-btn",{attrs:{color:"secondary",text:""},on:{click:function(t){return e.$emit("abort")}}},[e._v(" Cancel ")])],1)],1)],1)],1)},P=[],N={name:"InviteReviewDialog",props:{employees:Array},data:function(){return{reviewText:"",show:!1,selectedItems:[],selectedEmployee:{}}},methods:{ask:function(e){var t=this;return this.show=!0,this.selectedEmployee=e,new Promise((function(e,n){t.$on("invite",(function(){t.$off("invite"),t.show=!1;var n=[];t.selectedItems.forEach((function(e){n.push(new I(e))})),t.selectedItems=[],console.log(n),e(n)})),t.$on("abort",(function(){t.$off("abort"),t.show=!1,t.selectedItems=[],n("abort")}))}))}}},L=N,q=(n("5be4"),n("b974")),G=Object(m["a"])(L,D,P,!1,null,null,null),B=G.exports;f()(G,{VBtn:h["a"],VCard:y["a"],VCardActions:w["a"],VCardTitle:w["b"],VDialog:b["a"],VDivider:g["a"],VForm:_["a"],VSelect:q["a"],VSpacer:k["a"]});var M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"employee-list-item"},[n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:e._s(e.item.name)}})],1),n("v-list-item-action",{staticClass:"employee-item-action"},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("v-btn",e._g({attrs:{icon:""},on:{click:function(t){return e.$emit("addReview",e.item)}}},i),[n("v-icon",[e._v("mdi-comment-plus")])],1)]}}])},[n("span",[e._v("Add performance review")])]),n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("v-btn",e._g({attrs:{icon:""},on:{click:function(t){return e.$emit("inviteReview",{item:e.item})}}},i),[n("v-icon",[e._v("mdi-account-multiple-plus")])],1)]}}])},[n("span",[e._v("Invite employee to performance review")])]),n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("v-btn",e._g({attrs:{icon:""},on:{click:function(t){return e.$emit("remove",e.item)}}},i),[n("v-icon",[e._v("mdi-delete")])],1)]}}])},[n("span",[e._v("Remove employee")])])],1)],1)},F=[],J={name:"EmployeeItem",props:{item:Object},data:function(){return{}},methods:{}},U=J,H=(n("a9d3"),n("132d")),X=n("1800"),z=n("5d23"),K=n("3a2f"),Q=Object(m["a"])(U,M,F,!1,null,null,null),W=Q.exports;f()(Q,{VBtn:h["a"],VIcon:H["a"],VListItemAction:X["a"],VListItemContent:z["a"],VListItemTitle:z["b"],VTooltip:K["a"]});var Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"review-list-item"},[n("v-list-item-content",[n("div",[n("b",[e._v("Author")]),n("v-list-item-title",{domProps:{textContent:e._s(e.item.author)}}),n("br"),n("b",[e._v("Review")]),e.updateItem?n("v-textarea",{staticClass:"rename-text-field",attrs:{autofocus:"",rules:e.updateRules,required:!0},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateReview()},blur:function(t){return e.updateReview()}},model:{value:e.newContents,callback:function(t){e.newContents=t},expression:"newContents"}}):n("div",[e._v(" "+e._s(e.item.contents)+" ")])],1)]),n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("v-btn",e._g({staticClass:"review-tooltip",attrs:{icon:""},on:{click:function(t){return e.update()}}},i),[n("v-icon",[e._v("mdi-pencil")])],1)]}}])},[n("span",[e._v("Update review")])])],1)},Z=[],ee=(n("498a"),{name:"ReviewItem",props:{item:Object,employeeName:String},data:function(){return{newContents:"",updateItem:!1,updateRules:[function(e){return!!e&&e.trim().length>0||"Text can not be empty"}]}},methods:{updateReview:function(){this.updateItem=!1,""!==this.newContents&&(this.item.contents=this.newContents,this.$emit("updateReview",{name:this.employeeName,review:this.item}))},update:function(){this.newContents=this.item.contents,this.updateItem=!0}}}),te=ee,ne=(n("30cd"),Object(m["a"])(te,Y,Z,!1,null,null,null)),ie=ne.exports;f()(ne,{VBtn:h["a"],VIcon:H["a"],VListItemContent:z["a"],VListItemTitle:z["b"],VTextarea:O["a"],VTooltip:K["a"]});var oe={name:"App",components:{AddEmployeeDialog:x,AddReviewDialog:S,InviteReviewDialog:B,EmployeeItem:W,ReviewItem:ie},data:function(){return{employees:[],openAddEmployeeDialog:!1}},methods:{addEmployee:function(e){this.$emit("add-employee",e)},removeEmployee:function(e){this.$emit("remove-employee",e)},addReview:function(e){var t=this;this.$refs.createReviewDialog.ask().then((function(n){n.author&&n.contents&&t.$emit("add-review",{employee:e,review:n})}))},inviteReview:function(e){var t=this;if(e.item){var n=e.item;this.$refs.inviteReviewDialog.ask(n).then((function(e){e&&e.forEach((function(e){console.log(e),t.$emit("add-review",{employee:n,review:e})}))}))}},updateReview:function(e){var t=this.employees.find((function(t){return t.name===e.name})),n=e.review;t&&n&&this.$emit("update-review",{employee:t,review:n})}}},ae=oe,re=(n("034f"),n("7496")),se=n("8860"),le=n("56b0"),ce=n("da13"),ue=n("71d9"),de=n("2a7f"),ve=Object(m["a"])(ae,o,a,!1,null,null,null),me=ve.exports;f()(ve,{VApp:re["a"],VBtn:h["a"],VCard:y["a"],VIcon:H["a"],VList:se["a"],VListGroup:le["a"],VListItem:ce["a"],VListItemContent:z["a"],VSpacer:k["a"],VToolbar:ue["a"],VToolbarTitle:de["a"],VTooltip:K["a"]});var pe=n("f309");i["a"].use(pe["a"]);var fe=new pe["a"]({}),he=(n("96cf"),n("1da1")),ye=n("bee2"),we=function(){function e(t){Object(l["a"])(this,e),this.url=t}return Object(ye["a"])(e,[{key:"sendGetRequest",value:function(){var e=Object(he["a"])(regeneratorRuntime.mark((function e(t,n){var i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,o){var a=new XMLHttpRequest,r=i.url+"/"+t;r+=n?"?"+n:"",a.open("GET",r),a.send(),a.onload=function(){if(a.responseText){var t=JSON.parse(a.responseText);e(t)}else o()}})));case 1:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getEmployeesAndReviews",value:function(){return this.sendGetRequest("getEmployees")}},{key:"addEmployee",value:function(e){var t="name="+e.name;return this.sendGetRequest("addEmployee",t)}},{key:"removeEmployee",value:function(e){var t="name="+e.name;return this.sendGetRequest("removeEmployee",t)}},{key:"addReview",value:function(e,t){var n="name="+e.name;return n+="&author="+t.author,n+="&contents="+t.contents,n+="&pending="+t.pending,this.sendGetRequest("addReview",n)}},{key:"updateReview",value:function(e,t){var n="name="+e.name;return n+="&author="+t.author,n+="&contents="+t.contents,this.sendGetRequest("updateReview",n)}}]),e}(),be=we;i["a"].config.productionTip=!1;var ge=new be("http://localhost:9090"),_e=new i["a"]({vuetify:fe,render:function(e){return e(me)}}).$mount("#app"),ke=_e["$children"][0];ge.getEmployeesAndReviews().then((function(e){ke.employees=e})),ke.$on("add-employee",(function(e){ge.addEmployee(e).then((function(){return ge.getEmployeesAndReviews().then((function(e){ke.employees=e}))}))})),ke.$on("remove-employee",(function(e){ge.removeEmployee(e).then((function(){return ge.getEmployeesAndReviews().then((function(e){ke.employees=e}))}))})),ke.$on("add-review",(function(e){var t=e.employee,n=e.review;ge.addReview(t,n).then((function(){return ge.getEmployeesAndReviews().then((function(e){ke.employees=e}))}))})),ke.$on("update-review",(function(e){var t=e.employee,n=e.review;ge.updateReview(t,n).then((function(){return ge.getEmployeesAndReviews().then((function(e){ke.employees=e}))}))}))},"5be4":function(e,t,n){"use strict";var i=n("cf37"),o=n.n(i);o.a},"8a23":function(e,t,n){},a9d3:function(e,t,n){"use strict";var i=n("cd7b"),o=n.n(i);o.a},b016:function(e,t,n){},cd7b:function(e,t,n){},cf37:function(e,t,n){},d8a7:function(e,t,n){},ff4d:function(e,t,n){"use strict";var i=n("d8a7"),o=n.n(i);o.a}});
//# sourceMappingURL=app.07658dce.js.map